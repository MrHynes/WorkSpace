package pers.qiqcheng.spring.demo12;

import org.aspectj.lang.annotation.After;
import org.aspectj.lang.annotation.AfterReturning;
import org.aspectj.lang.annotation.Aspect;
import org.aspectj.lang.annotation.Before;
import org.aspectj.lang.annotation.Pointcut;

@Aspect
public class MyAspect {
	//前置通知
	@Before("execution(* pers.qiqcheng.spring.demo12.UserDao.add(..))")
	public void before(){
		System.out.println("addbefore..");
	}
	//后置通知
	@AfterReturning(value="execution(* pers.qiqcheng.spring.demo12.UserDao.update(..))",returning="returnval")
	//还可以改成
	@AfterReturning(value="MyAspect.myPointcutUpdate()")
	public int afterReturn(Object returnval){
		System.out.println("afterReturning.."+returnval);
		return (int)returnval;
	}
	//切点的注解
	@Pointcut("execution(* pers.qiqcheng.spring.demo12.UserDao.update(..))")
	private void myPointcutUpdate(){}
	
}
